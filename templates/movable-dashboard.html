<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Draggable Dashboard with Selectable Text</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
    body, html {
      height: 100%;
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f8f9fa; /* Light gray background */
    }
  
    .dashboard {
      width: 100%;
      height: 100vh;
      padding: 20px;
      box-sizing: border-box;
      background-color: #f8f9fa; /* Consistent with the body background */
    }
  
    .draggable {
      color: #495057; /* Darker text color for contrast */
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: grab;
      position: absolute;
      border-radius: .25rem; /* Slightly rounded corners for a softer look */
      background-color: #e9ecef; /* Very light gray for the box background */
      border: 1px solid #dee2e6; /* Light gray border for some definition */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
      transition: transform .2s ease-in-out, box-shadow .2s ease-in-out;
    }
  
    /* Example sizes for different widgets */
    .widget-small {
      width: 100px;
      height: 100px;
    }
    
    .widget-medium {
      width: 200px;
      height: 150px;
    }
    
    .widget-large {
      width: 300px;
      height: 200px;
    }
  
    .draggable:hover {
      transform: scale(1.03); /* Slight scale for interaction feedback */
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); /* Increased shadow for lifting effect */
    }
  
    .card-body {
      padding: .5rem 1rem; /* Padding inside the card for content spacing */
    }
  </style>
</head>
<body>

<div class="dashboard" id="dashboard">
    <div class="draggable widget-small card" id="widget1"><div class="card-body">Small Widget</div></div>
    <div class="draggable widget-medium card" id="widget2"><div class="card-body">Medium Widget</div></div>
    <div class="draggable widget-large card" id="widget3"><div class="card-body">Large Widget</div></div>
  <!-- Add more draggable widgets as needed -->
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.9.9/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


<script>
  const gridSize = 100;

  function snapToGrid(value) {
    return Math.round(value / gridSize) * gridSize;
  }

  const draggables = document.querySelectorAll('.draggable');
  let activeElement = null;
  let offsetX = 0;
  let offsetY = 0;

  function onMouseDown(event) {
    if (event.target.classList.contains('selectable')) {
      // If it's selectable text, we allow default browser behavior
      return;
    }

    activeElement = event.target.closest('.draggable');
    offsetX = event.clientX - activeElement.getBoundingClientRect().left;
    offsetY = event.clientY - activeElement.getBoundingClientRect().top;
    // Disable text selection on the document while dragging
    document.body.classList.add('noselect');
    activeElement.style.transition = 'none';
    document.addEventListener('mousemove', onMouseMove);
    document.addEventListener('mouseup', onMouseUp);

    // Prevent default to avoid any unwanted behaviors like text selection
    event.preventDefault();
  }

  function onMouseMove(event) {
    if (activeElement) {
      activeElement.style.left = `${event.clientX - offsetX}px`;
      activeElement.style.top = `${event.clientY - offsetY}px`;
    }
  }

  function onMouseUp() {
    if (activeElement) {
      activeElement.style.transition = 'left 0.2s ease-in-out, top 0.2s ease-in-out';
      activeElement.style.left = `${snapToGrid(activeElement.offsetLeft)}px`;
      activeElement.style.top = `${snapToGrid(activeElement.offsetTop)}px`;
    }
    document.removeEventListener('mousemove', onMouseMove);
    document.removeEventListener('mouseup', onMouseUp);
    document.body.classList.remove('noselect');
    activeElement = null;
  }

  draggables.forEach(draggable => {
    draggable.addEventListener('mousedown', onMouseDown);
  });
</script>

</body>
</html>
